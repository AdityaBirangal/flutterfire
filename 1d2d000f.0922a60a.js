(window.webpackJsonp=window.webpackJsonp||[]).push([[9],{117:function(e,t,n){"use strict";n.r(t),n.d(t,"frontMatter",(function(){return o})),n.d(t,"metadata",(function(){return s})),n.d(t,"rightToc",(function(){return c})),n.d(t,"default",(function(){return l}));var a=n(2),i=n(6),r=(n(0),n(142)),o={title:"Using Firebase Authentication",sidebar_label:"Usage"},s={id:"auth/usage",title:"Using Firebase Authentication",description:"This documentation is a work in progress",source:"@site/../docs/auth/usage.mdx",permalink:"/flutterfire/docs/auth/usage",editUrl:"https://github.com/FirebaseExtended/flutterfire/edit/next/docs/../docs/auth/usage.mdx",sidebar_label:"Usage",sidebar:"main",previous:{title:"Authentication",permalink:"/flutterfire/docs/auth/overview"},next:{title:"Social Authentication",permalink:"/flutterfire/docs/auth/social"}},c=[{value:"Listening to authentication state",id:"listening-to-authentication-state",children:[]},{value:"Persisting authentication state",id:"persisting-authentication-state",children:[]},{value:"Anonymous sign-in",id:"anonymous-sign-in",children:[]},{value:"Email/Password Registration &amp; Sign-in",id:"emailpassword-registration--sign-in",children:[]},{value:"Signing Out",id:"signing-out",children:[]},{value:"Other sign-in methods",id:"other-sign-in-methods",children:[]},{value:"Using secondary apps",id:"using-secondary-apps",children:[]}],u={rightToc:c};function l(e){var t=e.components,n=Object(i.a)(e,["components"]);return Object(r.b)("wrapper",Object(a.a)({},u,n,{components:t,mdxType:"MDXLayout"}),Object(r.b)("blockquote",null,Object(r.b)("p",{parentName:"blockquote"},"This documentation is a work in progress")),Object(r.b)("p",null,"Once installed, you can access the ",Object(r.b)("a",Object(a.a)({parentName:"p"},{href:"!firebase_auth"}),Object(r.b)("inlineCode",{parentName:"a"},"firebase_auth"))," plugin by importing it in your Dart code:"),Object(r.b)("pre",null,Object(r.b)("code",Object(a.a)({parentName:"pre"},{className:"language-dart"}),"import 'package:firebase_auth/firebase_auth.dart';\n")),Object(r.b)("h2",{id:"listening-to-authentication-state"},"Listening to authentication state"),Object(r.b)("p",null,"The FirebaseAuth module provides a method called ",Object(r.b)("inlineCode",{parentName:"p"},"onAuthStateChanged")," which allows you to subscribe to the users current\nauthentication state, and receive an event whenever the state changes."),Object(r.b)("h2",{id:"persisting-authentication-state"},"Persisting authentication state"),Object(r.b)("ul",null,Object(r.b)("li",{parentName:"ul"},"Introduction Text"),Object(r.b)("li",{parentName:"ul"},"Add code example")),Object(r.b)("h2",{id:"anonymous-sign-in"},"Anonymous sign-in"),Object(r.b)("p",null,"Sometimes you may not want to require authentication, however still want to be identify what users are doing throughout\nyour application. If connecting to an external API, it can also be used to add an extra layer of security by ensuring the\nusers request is from the app.  This can be achieved by using the ",Object(r.b)("inlineCode",{parentName:"p"},"signInAnonymously")," method which creates a new\npersistent anonymous user. This allows you to integrate into other services such as Analytics, by provided a user ID.authentication"),Object(r.b)("p",null,'Ensure the "Anonymous" sign in provide is enabled on the ',Object(r.b)("a",Object(a.a)({parentName:"p"},{href:"https://console.firebase.google.com/project/_/authentication/providers"}),"Firebase Console"),"."),Object(r.b)("pre",null,Object(r.b)("code",Object(a.a)({parentName:"pre"},{className:"language-dart",metastring:'title="NEEDS UPDATING/VALIDATING"',title:'"NEEDS','UPDATING/VALIDATING"':!0}),"final FirebaseUser user = (await FirebaseAuth.instance.signInAnonymously()).user;\n")),Object(r.b)("h2",{id:"emailpassword-registration--sign-in"},"Email/Password Registration & Sign-in"),Object(r.b)("p",null,"Email/Password is a common user sign in method for most applications.  This requires the user to provide an email address\nand secure password. Users can register with a method called ",Object(r.b)("inlineCode",{parentName:"p"},"createUserWithEmailAndPassword")," or sign in to an existing\naccount with ",Object(r.b)("inlineCode",{parentName:"p"},"signInWithEmailAndPassword")),Object(r.b)("p",null,'Ensure the "Email/Password" sign in provider is enabled on the ',Object(r.b)("a",Object(a.a)({parentName:"p"},{href:"https://console.firebase.google.com/project/_/authentication/providers"}),"Firebase Console")),Object(r.b)("p",null,"The ",Object(r.b)("inlineCode",{parentName:"p"},"createUserWithEmailAndPassword")," method performs two operations. It first creates the user if they do not already\nexist, and then signs them in:"),Object(r.b)("pre",null,Object(r.b)("code",Object(a.a)({parentName:"pre"},{className:"language-dart",metastring:'title="NEEDS UPDATING/VALIDATING"',title:'"NEEDS','UPDATING/VALIDATING"':!0}),"final FirebaseUser user = (await FirebaseAuth.instance.createUserWithEmailAndPassword(\n  email: 'clark.kent@example.com',\n  password:'SuperSecretPassword!',\n)).user;\n")),Object(r.b)("h2",{id:"signing-out"},"Signing Out"),Object(r.b)("p",null,"To sign a user out of their current authentication state, call the ",Object(r.b)("inlineCode",{parentName:"p"},"signOut")," method:"),Object(r.b)("pre",null,Object(r.b)("code",Object(a.a)({parentName:"pre"},{className:"language-dart",metastring:'title="NEEDS UPDATING/VALIDATING"',title:'"NEEDS','UPDATING/VALIDATING"':!0}),"await FirebaseAuth.instance.signOut();\n")),Object(r.b)("h2",{id:"other-sign-in-methods"},"Other sign-in methods"),Object(r.b)("p",null,"Firebase also supports authenticating with external provides. To learn more, view the documentation for your authentication method:"),Object(r.b)("ul",null,Object(r.b)("li",{parentName:"ul"},"Apple Sign-In."),Object(r.b)("li",{parentName:"ul"},"Facebook Sign-In."),Object(r.b)("li",{parentName:"ul"},"Twitter Sign-In."),Object(r.b)("li",{parentName:"ul"},"Google Sign-In."),Object(r.b)("li",{parentName:"ul"},"Phone Number Sign-In.")),Object(r.b)("h2",{id:"using-secondary-apps"},"Using secondary apps"),Object(r.b)("p",null,"Firebase Authentication supports using ",Object(r.b)("a",Object(a.a)({parentName:"p"},{href:"core/usage#secondary-firebase-apps"}),"secondary Firebase apps"),", allowing you to\nauthenticate users with multiple Firebase projects at once."),Object(r.b)("p",null,"To use a secondary app, pass the ",Object(r.b)("inlineCode",{parentName:"p"},"FirebaseApp")," instance to the ",Object(r.b)("inlineCode",{parentName:"p"},"instanceFor")," method:"),Object(r.b)("pre",null,Object(r.b)("code",Object(a.a)({parentName:"pre"},{className:"language-dart"}),"FirebaseApp secondaryApp = FirebaseCore.instance.app('SecondayApp');\n\nFirebaseAuth auth = FirebaseAuth.instanceFor(\n  app: secondaryApp\n);\n")))}l.isMDXComponent=!0},142:function(e,t,n){"use strict";n.d(t,"a",(function(){return p})),n.d(t,"b",(function(){return h}));var a=n(0),i=n.n(a);function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function c(e,t){if(null==e)return{};var n,a,i=function(e,t){if(null==e)return{};var n,a,i={},r=Object.keys(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var u=i.a.createContext({}),l=function(e){var t=i.a.useContext(u),n=t;return e&&(n="function"==typeof e?e(t):s(s({},t),e)),n},p=function(e){var t=l(e.components);return i.a.createElement(u.Provider,{value:t},e.children)},b={inlineCode:"code",wrapper:function(e){var t=e.children;return i.a.createElement(i.a.Fragment,{},t)}},d=i.a.forwardRef((function(e,t){var n=e.components,a=e.mdxType,r=e.originalType,o=e.parentName,u=c(e,["components","mdxType","originalType","parentName"]),p=l(n),d=a,h=p["".concat(o,".").concat(d)]||p[d]||b[d]||r;return n?i.a.createElement(h,s(s({ref:t},u),{},{components:n})):i.a.createElement(h,s({ref:t},u))}));function h(e,t){var n=arguments,a=t&&t.mdxType;if("string"==typeof e||a){var r=n.length,o=new Array(r);o[0]=d;var s={};for(var c in t)hasOwnProperty.call(t,c)&&(s[c]=t[c]);s.originalType=e,s.mdxType="string"==typeof e?e:a,o[1]=s;for(var u=2;u<r;u++)o[u]=n[u];return i.a.createElement.apply(null,o)}return i.a.createElement.apply(null,n)}d.displayName="MDXCreateElement"}}]);